scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 (box) vs 2017 (orange jitter)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p5
?geom_jitter
facdata <- data.frame(RefDate = fulltemp$RefDate,Temp=fulltemp$MaxTempCelsius,Label="(2) MAX")
facdata <- rbind(facdata,data.frame(RefDate = fulltemp$RefDate,Temp=fulltemp$MinTempCelsius,Label="(1) MIN"))
facdata$Month <- as.integer(format(facdata$RefDate,"%m"))
facdata$MonthId <- as.factor(facdata$Month)
facdata$Year <- as.integer(format(facdata$RefDate,"%Y"))
p5 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp)) +
geom_boxplot(outlier.colour = "red", outlier.shape = 1) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 (box) vs 2017 (orange jitter)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p5
facdata <- data.frame(RefDate = fulltemp$RefDate,Temp=fulltemp$MaxTempCelsius,Label=factor("(2) MAX"))
facdata <- rbind(facdata,data.frame(RefDate = fulltemp$RefDate,Temp=fulltemp$MinTempCelsius,Label=factor("(1) MIN")))
facdata$Month <- as.integer(format(facdata$RefDate,"%m"))
facdata$MonthId <- as.factor(facdata$Month)
facdata$Year <- as.integer(format(facdata$RefDate,"%Y"))
p5 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp)) +
geom_boxplot(outlier.colour = "red", outlier.shape = 1) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 (box) vs 2017 (orange jitter)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p5
?factor
facdata <- data.frame(RefDate = fulltemp$RefDate,Temp=fulltemp$MaxTempCelsius,Label="MAX")
facdata <- rbind(facdata,data.frame(RefDate = fulltemp$RefDate,Temp=fulltemp$MinTempCelsius,Label="MIN"))
facdata$Label <- as.factor(facdata$Label,ordered=TRUE)
facdata$Label <- factor(facdata$Label,c("MIN","MAX"),ordered=TRUE)
facdata$Month <- as.integer(format(facdata$RefDate,"%m"))
facdata$MonthId <- as.factor(facdata$Month)
facdata$Year <- as.integer(format(facdata$RefDate,"%Y"))
p5 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp)) +
geom_boxplot(outlier.colour = "red", outlier.shape = 1) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 (box) vs 2017 (orange jitter)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p5
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 (box) vs 2017 (orange jitter)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,alpha=Year)) +
geom_jitter(width=0.1) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 (box) vs 2017 (orange jitter)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 (box) vs 2017 (orange jitter)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 (box) vs 2017 (orange jitter)") +
theme(plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
facdata$Year <- as.factor(format(facdata$RefDate,"%Y"))
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="bottom",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year)) +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="bottom",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="bottom",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="bottom",plot.title = element_text(face="bold",size=12)) +
giude_legend(ncol=10) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="bottom",plot.title = element_text(face="bold",size=12)) +
guide_legend(ncol=10) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="bottom",plot.title = element_text(face="bold",size=12)) +
guide_legend(ncol=2) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,shape=2,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5,shape=0) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,shape=4,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5,shape=0) + coord_flip() +
geom_jitter(width=0.1,alpha=0.5,shape=16,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5,shape=0) + coord_flip() +
geom_jitter(width=0.1,shape=16,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() +
facet_grid(Month ~ .)
p7
library(ggplot2)
library(dplyr)
library(gridExtra)
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() +
facet_grid(Month ~ .)
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() +
facet_wrap(Month ~ .)
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() +
facet_wrap(Month ~ )
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() +
facet_wrap( ~ Month)
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() + geom_smooth()
facet_grid(Month ~ .)
#facet_wrap( ~ Month)
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() + geom_smooth() +
facet_grid(Month ~ .)
#facet_wrap( ~ Month)
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() + geom_smooth() +
facet_grid(Month ~ ., ncol=3)
#facet_wrap( ~ Month)
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() + geom_smooth() +
facet_grid(Month ~ ., ncols=3)
#facet_wrap( ~ Month)
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() + geom_smooth() +
facet_wrap(Month ~ ., ncol=3)
#facet_wrap( ~ Month)
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() + geom_smooth() +
#facet_grid(Month ~ ., ncol=3)
facet_wrap( ~ Month, ncol=3)
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point() + geom_smooth() +
#facet_grid(Month ~ ., ncol=3)
facet_wrap( ~ Month, ncol=3,scale="free")
p7
?geom_smooth
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point(alpha=0.5) + geom_smooth(method='lm') +
#facet_grid(Month ~ ., ncol=3)
facet_wrap( ~ Month, ncol=3,scale="free")
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point(alpha=0.5) + geom_smooth(method='lm') +
#facet_grid(Month ~ ., ncol=3)
facet_wrap(Month  ~ .)#, ncol=3,scale="free")
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point(alpha=0.5) + geom_smooth(method='lm') +
#facet_grid(Month ~ ., ncol=3)
facet_wrap( ~ Month, nrow=1)#,scale="free")
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point(alpha=0.5) + geom_smooth(method='lm') +
#facet_grid(Month ~ ., ncol=3)
facet_wrap( ~ Month, nrow=1) + #,scale="free")
theme(axis.text.x = element_blank())
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point(alpha=0.5) + geom_smooth(method='lm') +
#facet_grid(Month ~ ., ncol=3)
facet_wrap( ~ Month, nrow=1) + #,scale="free")
theme(axis.text.x = element_blank(),axis.title.x = element_blank(), axis.ticks.x = element_blank())
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point(alpha=0.3) + geom_smooth(method='lm',colour='red') +
#facet_grid(Month ~ ., ncol=3)
facet_wrap( ~ Month, nrow=1) + #,scale="free")
theme(axis.text.x = element_blank(),axis.title.x = element_blank(), axis.ticks.x = element_blank())
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point(alpha=0.3) +
geom_smooth(method='lm',colour='red') +
scale_y_continuous(name="T (°C)") +
#facet_grid(Month ~ ., ncol=3)
facet_wrap( ~ Month, nrow=1) +
ggtitle("Daily T (°C) in Parma: 1961-2017") +
theme(axis.text.x = element_blank(),axis.title.x = element_blank(), axis.ticks.x = element_blank(),
plot.title = element_text(face="bold",size=12))
p7
p7 <- ggplot(data=fulltemp,aes(Year,MaxTempCelsius)) +
geom_point(alpha=0.3) +
geom_smooth(method='lm',colour='red') +
scale_y_continuous(name="T (°C)") +
#facet_grid(Month ~ ., ncol=3)
facet_wrap( ~ Month, nrow=1) +
ggtitle("Daily Max T (°C) in Parma: 1961-2017") +
theme(axis.text.x = element_blank(),axis.title.x = element_blank(), axis.ticks.x = element_blank(),
plot.title = element_text(face="bold",size=12))
p7
install.packages('tensorflow')
source("AnalyzeTemperatures.R")
setwd("C:/Users/Rada/Codes/Net/HomeFS/Meteo/")
source("AnalyzeTemperatures.R")
rainuniv <- readTemp("Data/dext3r/rain/rain_univ.csv")
rainuniv <- readTemp("Data/dext3r/rain/rain_univ.csv","UNIV")
rainurb <-  readTemp("Data/dext3r/rain/rain_urbana.csv","URB")
View(rainuniv)
rainuniv <- filter(readTemp("Data/dext3r/rain/rain_univ.csv","UNIV"),!is.na(Rain))
rainurb <-  filter(readTemp("Data/dext3r/rain/rain_urbana.csv","URB"),!is.na(Rain))
View(rainurb)
fullrain <- rbind(rainuniv,filter(rainurb,RefDate > max(rainuniv$RefDate)))
View(fullrain)
plot(fullrain$RefDate,fullrain$Rain)
fullrain$Month <- as.integer(format(fullrain$RefDate,"%m"))
fullrain$Year <- as.integer(format(fullrain$RefDate,"%Y"))
p <- ggplot(data=fullrain,aes(Month,Rain)) +
geom_jitter(width=0.1) +
coord_flip()
p
fullrain$MonthId <- as.factor(fullrain$Month)
p <- ggplot(data=fullrain,aes(MonthId,Rain)) +
geom_jitter(width=0.1) +
coord_flip()
p
sumrain <- fullrain %>% group_by(Year,Month) %>% summarise(RainSum = sum(Rain))
View(sumrain)
sumrain$MonthId <- as.factor(sumrain$Month)
p <- ggplot(data=sumrain,aes(reorder(MonthId,-Month),SumRain)) +
geom_jitter(width=0.1) +
coord_flip()
p
p <- ggplot(data=sumrain,aes(reorder(MonthId,-Month),RainSum)) +
geom_jitter(width=0.1) +
coord_flip()
p
p <- ggplot(data=sumrain,aes(reorder(MonthId,-Month),RainSum,Col=Year)) +
geom_jitter(width=0.1) +
coord_flip() +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
p
p <- ggplot(data=sumrain,aes(reorder(MonthId,-Month),RainSum,Col=Year)) +
geom_jitter(width=0.1) +
coord_flip() +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p
p <- ggplot(data=sumrain,aes(reorder(MonthId,-Month),RainSum,col=Year)) +
geom_jitter(width=0.1) +
coord_flip() +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p
p <- ggplot(data=filter(sumrain,Year!=2017),aes(reorder(MonthId,-Month),RainSum,col=Year)) +
geom_jitter(width=0.1) +
geom_jitter(width=0.1,shape=16,data=filter(sumrain,Year=='2017'),aes(MonthId,RainSum,col=Year),colour="orange") +
coord_flip() +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p
fullrain$Year <- as.factor(format(fullrain$RefDate,"%Y"))
p <- ggplot(data=filter(sumrain,Year!='2017'),aes(reorder(MonthId,-Month),RainSum,col=Year)) +
geom_jitter(width=0.1) +
geom_jitter(width=0.1,shape=16,data=filter(sumrain,Year=='2017'),aes(MonthId,RainSum,col=Year),colour="orange") +
coord_flip() +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p
p <- ggplot(data=filter(sumrain,Year!='2017'),aes(reorder(MonthId,-Month),RainSum,col=Year)) +
geom_jitter(width=0.1) +
geom_jitter(width=0.1,shape=16,data=filter(sumrain,Year=='2017'),aes(MonthId,RainSum,col=Year),colour="orange") +
coord_flip() +
scale_colour_gradientn(colours=terrain.colors(3)) +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p
p <- ggplot(data=filter(sumrain,Year!='2017'),aes(reorder(MonthId,-Month),RainSum,col=Year)) +
geom_jitter(width=0.1) +
geom_jitter(width=0.1,shape=16,data=filter(sumrain,Year=='2017'),aes(MonthId,RainSum,col=Year),colour="orange") +
coord_flip() +
#scale_colour_gradientn(colours=terrain.colors(3)) +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p
fullrain$Year <- as.factor(format(fullrain$RefDate,"%Y"))
p <- ggplot(data=filter(sumrain,Year!='2017'),aes(reorder(MonthId,-Month),RainSum,col=Year)) +
geom_jitter(width=0.1,shape=0) +
geom_jitter(width=0.1,shape=16,data=filter(sumrain,Year=='2017'),aes(MonthId,RainSum,col=Year),colour="orange") +
coord_flip() +
#scale_colour_gradientn(colours=terrain.colors(3)) +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p
p6 <- ggplot(data=filter(facdata,Year!='2017'),aes(reorder(MonthId,-Month),Temp,col=Year)) +
geom_jitter(width=0.1,alpha=0.5,shape=0) + coord_flip() +
geom_jitter(width=0.1,shape=16,data=filter(facdata,Year=='2017'),aes(MonthId,Temp,col=Year),colour="orange") +
scale_y_continuous(name="T (°C)") +
scale_x_discrete(name="Month") +
ggtitle("Daily T (°C) in Parma: 1961-2016 vs 2017 (orange)") +
theme(legend.position="none",plot.title = element_text(face="bold",size=12)) +
facet_wrap(~ Label)
p6
p <- ggplot(data=filter(sumrain,Year!='2017'),aes(reorder(MonthId,-Month),RainSum,col=Year)) +
geom_jitter(width=0.1,shape=0) +
geom_jitter(width=0.1,shape=16,data=filter(sumrain,Year=='2017'),aes(MonthId,RainSum,col=Year),colour="orange") +
coord_flip() +
scale_y_continuous(name="Rain (kg/Mq)") +
scale_x_discrete(name="Month") +
#scale_colour_gradientn(colours=terrain.colors(3)) +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p
p <- ggplot(data=filter(sumrain,Year!='2017'),aes(reorder(MonthId,-Month),RainSum,col=Year)) +
geom_jitter(width=0.1,alpha=0.5,shape=0) +
geom_jitter(width=0.1,shape=16,data=filter(sumrain,Year=='2017'),aes(MonthId,RainSum,col=Year),colour="orange") +
coord_flip() +
scale_y_continuous(name="Rain (kg/mq)") +
scale_x_discrete(name="Month") +
#scale_colour_gradientn(colours=terrain.colors(3)) +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p
install.packages('zoo')
library(ggplot2)
library(dplyr)
library(zoo)
?rollsum
rollsum(sumrain,6)
rollsum(data.frame(RefDate=fullrain$RefDate,Rain=fullrain$Rain),6*30)
rollsum(zoo(data.frame(RefDate=fullrain$RefDate,Rain=fullrain$Rain)),6*30)
zoo(data.frame(RefDate=fullrain$RefDate,Rain=fullrain$Rain))
series <- zoo(fullrain$Rain,fullrain$RefDate)
rollsum(series,6*30)
sumseries <- rollsum(series,6*30)
plot(sumseries)
as.data.frame(sumseries)
dfsum <- as.data.frame(sumseries)
View(dfsum)
dfsum <- fortify(sumseries)
View(dfsum)
dfsum <- fortify(sumseries)
dfsum$Month <- as.integer(format(dfsum$Index,"%m"))
dfsum$MonthId <- as.factor(dfsum$Month)
dfsum$Year <- as.factor(format(dfsum$Index,"%Y"))
View(dfsum)
p1 <- ggplot(data=filter(dfsum,Year!='2017'),aes(reorder(MonthId,-Month),sumseries,col=Year)) +
geom_jitter(width=0.1,alpha=0.5,shape=0) +
geom_jitter(width=0.1,shape=16,data=filter(dfsum,Year=='2017'),aes(MonthId,sumseries,col=Year),colour="orange") +
coord_flip() +
scale_y_continuous(name="Rain (kg/mq)") +
scale_x_discrete(name="Month") +
#scale_colour_gradientn(colours=terrain.colors(3)) +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p1
View(dfsum)
series <- zoo(fullrain$Rain,fullrain$RefDate)
sumseries <- rollsum(series,3*30)
dfsum <- fortify(sumseries)
dfsum$Month <- as.integer(format(dfsum$Index,"%m"))
dfsum$MonthId <- as.factor(dfsum$Month)
dfsum$Year <- as.factor(format(dfsum$Index,"%Y"))
p1 <- ggplot(data=filter(dfsum,Year!='2017'),aes(reorder(MonthId,-Month),sumseries,col=Year)) +
geom_jitter(width=0.1,alpha=0.5,shape=0) +
geom_jitter(width=0.1,shape=16,data=filter(dfsum,Year=='2017'),aes(MonthId,sumseries,col=Year),colour="orange") +
coord_flip() +
scale_y_continuous(name="Rain (kg/mq)") +
scale_x_discrete(name="Month") +
#scale_colour_gradientn(colours=terrain.colors(3)) +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p1
?rollsum
series <- zoo(fullrain$Rain,fullrain$RefDate)
sumseries <- rollsum(series,3*30,align='right')
dfsum <- fortify(sumseries)
dfsum$Month <- as.integer(format(dfsum$Index,"%m"))
dfsum$MonthId <- as.factor(dfsum$Month)
dfsum$Year <- as.factor(format(dfsum$Index,"%Y"))
p1 <- ggplot(data=filter(dfsum,Year!='2017'),aes(reorder(MonthId,-Month),sumseries,col=Year)) +
geom_jitter(width=0.1,alpha=0.5,shape=0) +
geom_jitter(width=0.1,shape=16,data=filter(dfsum,Year=='2017'),aes(MonthId,sumseries,col=Year),colour="orange") +
coord_flip() +
scale_y_continuous(name="Rain (kg/mq)") +
scale_x_discrete(name="Month") +
#scale_colour_gradientn(colours=terrain.colors(3)) +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p1
series <- zoo(fullrain$Rain,fullrain$RefDate)
sumseries <- rollsum(series,6*30,align='right')
dfsum <- fortify(sumseries)
dfsum$Month <- as.integer(format(dfsum$Index,"%m"))
dfsum$MonthId <- as.factor(dfsum$Month)
dfsum$Year <- as.factor(format(dfsum$Index,"%Y"))
p1 <- ggplot(data=filter(dfsum,Year!='2017'),aes(reorder(MonthId,-Month),sumseries,col=Year)) +
geom_jitter(width=0.1,alpha=0.5,shape=0) +
geom_jitter(width=0.1,shape=16,data=filter(dfsum,Year=='2017'),aes(MonthId,sumseries,col=Year),colour="orange") +
coord_flip() +
scale_y_continuous(name="Rain (kg/mq)") +
scale_x_discrete(name="Month") +
#scale_colour_gradientn(colours=terrain.colors(3)) +
theme(legend.position="none",plot.title = element_text(face="bold",size=12))
p1
